<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Arduino Tlc5940 Library: Tlc5940.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Arduino Tlc5940 Library
   &#160;<span id="projectnumber">r14 - 2009-05-07</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Tlc5940.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="classTlc5940.html" title="The main Tlc5940 class for the entire library. ">Tlc5940</a> library header file.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;Arduino.h&gt;</code><br />
<code>#include &quot;<a class="el" href="tlc__config_8h_source.html">tlc_config.h</a>&quot;</code><br />
</div>
<p><a href="Tlc5940_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTlc5940.html">Tlc5940</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The main <a class="el" href="classTlc5940.html" title="The main Tlc5940 class for the entire library. ">Tlc5940</a> class for the entire library.  <a href="classTlc5940.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a864646f6e0f75195c175b71c75ad7fc6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a864646f6e0f75195c175b71c75ad7fc6"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Tlc5940_8h.html#a864646f6e0f75195c175b71c75ad7fc6">tlc_shift8_init</a> (void)</td></tr>
<tr class="memdesc:a864646f6e0f75195c175b71c75ad7fc6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the SPI module to double speed (f_osc / 2) <br /></td></tr>
<tr class="separator:a864646f6e0f75195c175b71c75ad7fc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9254ae18ebd74436c6ac819e9f616b4c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9254ae18ebd74436c6ac819e9f616b4c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Tlc5940_8h.html#a9254ae18ebd74436c6ac819e9f616b4c">tlc_shift8</a> (uint8_t byte)</td></tr>
<tr class="memdesc:a9254ae18ebd74436c6ac819e9f616b4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shifts out a byte, MSB first. <br /></td></tr>
<tr class="separator:a9254ae18ebd74436c6ac819e9f616b4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaaf27801765c21628745dedd1cf447cb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Tlc5940_8h.html#aaaf27801765c21628745dedd1cf447cb">tlc_dcModeStart</a> (void)</td></tr>
<tr class="memdesc:aaaf27801765c21628745dedd1cf447cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Switches to dot correction mode and clears any waiting grayscale latches.  <a href="#aaaf27801765c21628745dedd1cf447cb">More...</a><br /></td></tr>
<tr class="separator:aaaf27801765c21628745dedd1cf447cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f95d25cb4c36a042c2363bde7f5b6f3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Tlc5940_8h.html#a5f95d25cb4c36a042c2363bde7f5b6f3">tlc_dcModeStop</a> (void)</td></tr>
<tr class="memdesc:a5f95d25cb4c36a042c2363bde7f5b6f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Switches back to grayscale mode.  <a href="#a5f95d25cb4c36a042c2363bde7f5b6f3">More...</a><br /></td></tr>
<tr class="separator:a5f95d25cb4c36a042c2363bde7f5b6f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a5e4408cb0b93f0d5617680a8c3540242"><td class="memItemLeft" align="right" valign="top">volatile uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Tlc5940_8h.html#a5e4408cb0b93f0d5617680a8c3540242">tlc_needXLAT</a></td></tr>
<tr class="memdesc:a5e4408cb0b93f0d5617680a8c3540242"><td class="mdescLeft">&#160;</td><td class="mdescRight">This will be true (!= 0) if update was just called and the data has not been latched in yet.  <a href="#a5e4408cb0b93f0d5617680a8c3540242">More...</a><br /></td></tr>
<tr class="separator:a5e4408cb0b93f0d5617680a8c3540242"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a617eaf460398e7847fdbfe7944f4cf23"><td class="memItemLeft" align="right" valign="top">volatile void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Tlc5940_8h.html#a617eaf460398e7847fdbfe7944f4cf23">tlc_onUpdateFinished</a> )(void)</td></tr>
<tr class="memdesc:a617eaf460398e7847fdbfe7944f4cf23"><td class="mdescLeft">&#160;</td><td class="mdescRight">Some of the extened library will need to be called after a successful update.  <a href="#a617eaf460398e7847fdbfe7944f4cf23">More...</a><br /></td></tr>
<tr class="separator:a617eaf460398e7847fdbfe7944f4cf23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1560009c42233131f7abe72e8113f793"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Tlc5940_8h.html#a1560009c42233131f7abe72e8113f793">tlc_GSData</a> [<a class="el" href="tlc__config_8h.html#aa673c2d8e04c9cca25f51d6c2b516b8f">NUM_TLCS</a> *24]</td></tr>
<tr class="memdesc:a1560009c42233131f7abe72e8113f793"><td class="mdescLeft">&#160;</td><td class="mdescRight">Packed grayscale data, 24 bytes (16 * 12 bits) per TLC.  <a href="#a1560009c42233131f7abe72e8113f793">More...</a><br /></td></tr>
<tr class="separator:a1560009c42233131f7abe72e8113f793"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a520693b05c8dcd19ef500540a8b75e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classTlc5940.html">Tlc5940</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Tlc5940_8h.html#a4a520693b05c8dcd19ef500540a8b75e">Tlc</a></td></tr>
<tr class="memdesc:a4a520693b05c8dcd19ef500540a8b75e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Preinstantiated Tlc variable.  <a href="#a4a520693b05c8dcd19ef500540a8b75e">More...</a><br /></td></tr>
<tr class="separator:a4a520693b05c8dcd19ef500540a8b75e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classTlc5940.html" title="The main Tlc5940 class for the entire library. ">Tlc5940</a> library header file. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="aaaf27801765c21628745dedd1cf447cb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tlc_dcModeStart </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Switches to dot correction mode and clears any waiting grayscale latches. </p>

</div>
</div>
<a class="anchor" id="a5f95d25cb4c36a042c2363bde7f5b6f3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tlc_dcModeStop </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Switches back to grayscale mode. </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a4a520693b05c8dcd19ef500540a8b75e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTlc5940.html">Tlc5940</a> Tlc</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Preinstantiated Tlc variable. </p>

</div>
</div>
<a class="anchor" id="a1560009c42233131f7abe72e8113f793"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t tlc_GSData[<a class="el" href="tlc__config_8h.html#aa673c2d8e04c9cca25f51d6c2b516b8f">NUM_TLCS</a> *24]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Packed grayscale data, 24 bytes (16 * 12 bits) per TLC. </p>
<p>Format: Lets assume we have 2 TLCs, A and B, daisy-chained with the SOUT of A going into the SIN of B.</p><ul>
<li>byte 0: upper 8 bits of B.15</li>
<li>byte 1: lower 4 bits of B.15 and upper 4 bits of B.14</li>
<li>byte 2: lower 8 bits of B.0</li>
<li>...</li>
<li>byte 24: upper 8 bits of A.15</li>
<li>byte 25: lower 4 bits of A.15 and upper 4 bits of A.14</li>
<li>...</li>
<li>byte 47: lower 8 bits of A.0</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Normally packing data like this is bad practice. But in this situation, shifting the data out is really fast because the format of the array is the same as the format of the TLC's serial interface. </dd></dl>

</div>
</div>
<a class="anchor" id="a5e4408cb0b93f0d5617680a8c3540242"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint8_t tlc_needXLAT</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This will be true (!= 0) if update was just called and the data has not been latched in yet. </p>

</div>
</div>
<a class="anchor" id="a617eaf460398e7847fdbfe7944f4cf23"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile void(* tlc_onUpdateFinished) (void)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Some of the extened library will need to be called after a successful update. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
