<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Arduino Tlc5940 Library: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Arduino Tlc5940 Library
   &#160;<span id="projectnumber">r14 - 2009-05-07</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Arduino Tlc5940 Library Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The <a href="http://www.ti.com/lit/gpn/TLC5940">Texas Instruments TLC5940 </a> is a 16-channel, constant-current sink LED driver. Each channel has an individually adjustable 4096-step grayscale PWM brightness control and a 64-step, constant-current sink (no LED resistors needed!). This chip is a current sink, so be sure to use common anode RGB LEDs.</p>
<p>Check the <a href="http://code.google.com/p/tlc5940arduino/">tlc5940arduino project</a> on Google Code for updates. To install, unzip the "Tlc5940" folder to &lt;Arduino Folder&gt;/hardware/libraries/</p>
<p>&#160;</p>
<h1><a class="anchor" id="hardwaresetup"></a>
Hardware Setup</h1>
<p>The basic hardware setup is explained at the top of the Examples. A good place to start would be the BasicUse Example. (The examples are in File-&gt;Sketchbook-&gt;Examples-&gt;Library-Tlc5940).</p>
<p>All the options for the library are located in <a class="el" href="tlc__config_8h.html" title="Configuration for the Arduino Tlc5940 library. ">tlc_config.h</a>, including <a class="el" href="tlc__config_8h.html#aa673c2d8e04c9cca25f51d6c2b516b8f" title="Number of TLCs daisy-chained. ">NUM_TLCS</a>, what pins to use, and the PWM period. After changing <a class="el" href="tlc__config_8h.html" title="Configuration for the Arduino Tlc5940 library. ">tlc_config.h</a>, be sure to delete the Tlc5940.o file in the library folder to save the changes.</p>
<p>&#160;</p>
<h1><a class="anchor" id="libref"></a>
Library Reference</h1>
<p><a class="el" href="group__CoreFunctions.html">Core Functions</a> (see the BasicUse Example and <a class="el" href="classTlc5940.html" title="The main Tlc5940 class for the entire library. ">Tlc5940</a>):</p><ul>
<li><a class="el" href="group__CoreFunctions.html#gaa42fdda37a43a13f49b00924d93eedd4">Tlc.init(int initialValue (0-4095))</a> - Call this is to setup the timers before using any other Tlc functions. initialValue defaults to zero (all channels off).</li>
<li><a class="el" href="group__CoreFunctions.html#ga5e5acd62f0c91579694ed4cffd88bd76">Tlc.clear()</a> - Turns off all channels (Needs Tlc.update())</li>
<li><a class="el" href="group__CoreFunctions.html#ga3d487c503365fa5b948b6711b9dac73e">Tlc.set(uint8_t channel (0-(NUM_TLCS * 16 - 1)), int value (0-4095))</a> - sets the grayscale data for channel. (Needs Tlc.update())</li>
<li><a class="el" href="group__CoreFunctions.html#gacb63767b2063823e9c5d0e1d8db77ceb">Tlc.setAll(int value(0-4095))</a> - sets all channels to value. (Needs Tlc.update())</li>
<li><a class="el" href="group__CoreFunctions.html#gac712fcd944dd3f5f4f0ff158d754ea06">uint16_t Tlc.get(uint8_t channel)</a> - returns the grayscale data for channel (see set).</li>
<li><a class="el" href="group__CoreFunctions.html#ga18ee51310250855d75cff715a5ff4d48">Tlc.update()</a> - Sends the changes from any Tlc.clear's, Tlc.set's, or Tlc.setAll's.</li>
</ul>
<p><a class="el" href="group__ExtendedFunctions.html">Extended Functions</a>. These require an include statement at the top of the sketch to use.</p>
<p><a class="el" href="group__ReqVPRG__ENABLED.html">Functions that require VPRG_ENABLED</a>. These require VPRG_ENABLED == 1 in <a class="el" href="tlc__config_8h.html" title="Configuration for the Arduino Tlc5940 library. ">tlc_config.h</a></p>
<p>&#160;</p>
<h1><a class="anchor" id="expansion"></a>
Expanding the Library</h1>
<p>Lets say we wanted to add a function like "tlc_goCrazy(...)". The first thing to do is to create a source file in the library folder, "tlc_my_crazy_functions.h". A template for this .h file is </p><div class="fragment"><div class="line"><span class="comment">// Explination for my crazy function extension</span></div><div class="line"></div><div class="line"><span class="preprocessor">#ifndef TLC_MY_CRAZY_FUNCTIONS_H</span></div><div class="line"><span class="preprocessor">#define TLC_MY_CRAZY_FUNCTIONS_H</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="tlc__config_8h.html">tlc_config.h</a>&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="Tlc5940_8h.html">Tlc5940.h</a>&quot;</span></div><div class="line"></div><div class="line"><span class="keywordtype">void</span> tlc_goCrazy(<span class="keywordtype">void</span>);</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> tlc_goCrazy(<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    uint16_t crazyFactor = 4000;</div><div class="line">    <a class="code" href="Tlc5940_8cpp.html#a4a520693b05c8dcd19ef500540a8b75e">Tlc</a>.<a class="code" href="group__CoreFunctions.html#ga5e5acd62f0c91579694ed4cffd88bd76">clear</a>();</div><div class="line">    <span class="keywordflow">for</span> (uint8_t <a class="code" href="structTlc__Fade.html#a7fe3f4f2ae4c22eede7e36a39cf67bf6">channel</a> = 4; <a class="code" href="structTlc__Fade.html#a7fe3f4f2ae4c22eede7e36a39cf67bf6">channel</a> &lt; 9; <a class="code" href="structTlc__Fade.html#a7fe3f4f2ae4c22eede7e36a39cf67bf6">channel</a>++) {</div><div class="line">        <a class="code" href="Tlc5940_8cpp.html#a4a520693b05c8dcd19ef500540a8b75e">Tlc</a>.<a class="code" href="group__CoreFunctions.html#ga3d487c503365fa5b948b6711b9dac73e">set</a>(<a class="code" href="structTlc__Fade.html#a7fe3f4f2ae4c22eede7e36a39cf67bf6">channel</a>, crazyFactor);</div><div class="line">    }</div><div class="line">    <a class="code" href="Tlc5940_8cpp.html#a4a520693b05c8dcd19ef500540a8b75e">Tlc</a>.<a class="code" href="group__CoreFunctions.html#ga18ee51310250855d75cff715a5ff4d48">update</a>();</div><div class="line">}</div><div class="line"></div><div class="line"><span class="preprocessor">#endif</span></div></div><!-- fragment --><p> Now to use your library in a sketch, just add </p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;tlc_my_crazy_functions.h&quot;</span></div><div class="line"></div><div class="line"><span class="comment">// ...</span></div><div class="line"></div><div class="line">tlc_goCrazy();</div></div><!-- fragment --><p> If you would like to share your extended functions for others to use, email me (acleone ~AT~ gmail.com) with the file and an example and I'll include them in the library.</p>
<p>&#160;</p>
<h1><a class="anchor" id="bugs"></a>
Contact</h1>
<p>If you found a bug in the library, email me so I can fix it! My email is acleone ~AT~ gmail.com</p>
<p>&#160;</p>
<h1><a class="anchor" id="license"></a>
License - GPLv3</h1>
<p>Copyright (c) 2009 by Alex Leone &lt;acleone ~AT~ gmail.com&gt;</p>
<p>This file is part of the Arduino TLC5940 Library.</p>
<p>The Arduino TLC5940 Library is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.</p>
<p>The Arduino TLC5940 Library is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License along with The Arduino TLC5940 Library. If not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
